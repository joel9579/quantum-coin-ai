<!DOCTYPE html>
<html>
<head>
  <title>Quantum Coin AI</title>
</head>
<body>
  <h1>Welcome to Quantum Coin AI</h1>

  <label>Select Coin:</label>
  <select id="coinSelect"></select>

  <label>Select Year:</label>
  <select id="yearSelect"></select>

  <button onclick="predict()">Generate Prediction</button>

  <p id="response"></p>

  <script>
    // Load coins
    fetch('/api/coins')
      .then(res => res.json())
      .then(data => {
        const select = document.getElementById('coinSelect');
        data.coins.forEach(coin => {
          let option = document.createElement('option');
          option.value = coin;
          option.text = coin;
          select.appendChild(option);
        });
      });

    // Load years
    fetch('/api/years')
      .then(res => res.json())
      .then(data => {
        const select = document.getElementById('yearSelect');
        data.years.forEach(year => {
          let option = document.createElement('option');
          option.value = year;
          option.text = year;
          select.appendChild(option);
        });
      });

    function predict() {
      const coin = document.getElementById('coinSelect').value;
      const year = document.getElementById('yearSelect').value;

      fetch('/api/predict', {
        method: 'POST',
        headers: { 'Content-Type': 'application/json' },
        body: JSON.stringify({ coin: coin, year: parseInt(year) })
      })
      .then(res => res.json())
      .then(data => {
        document.getElementById('response').innerText = JSON.stringify(data);
      });
    }
  </script>
</body>
</html>
